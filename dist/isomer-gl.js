!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.IsomerGL=e():t.IsomerGL=e()}(window,function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=22)}([function(t,e){function r(t,e,r){this.shortMessage=e||"",this.longMessage=r||"",this.rawError=t||"",this.message="gl-shader: "+(e||t||"")+(r?"\n"+r:""),this.stack=(new Error).stack}r.prototype=new Error,r.prototype.name="GLError",r.prototype.constructor=r,t.exports=r},function(t,e){t.exports=class t{constructor(...t){Array.isArray(t[0])?this.points=t[0]:this.points=t}push(t){this.points.push(t)}reverse(){return new t(this.points.slice().reverse())}translate(...e){return new t(this.points.map(t=>t.translate(...e)))}rotateX(...e){return new t(this.points.map(t=>t.rotateX(...e)))}rotateY(...e){return new t(this.points.map(t=>t.rotateY(...e)))}rotateZ(...e){return new t(this.points.map(t=>t.rotateZ(...e)))}scale(...e){return new t(this.points.map(t=>t.scale(...e)))}static Rectangle(e,r,n){return r="number"==typeof r?r:1,n="number"==typeof n?n:1,new t([e,new Point(e.x+r,e.y,e.z),new Point(e.x+r,e.y+n,e.z),new Point(e.x,e.y+n,e.z)])}static Circle(e,r,n){n=n||20;const a=new t;for(let t=0;t<n;t++)a.push(new Point(r*Math.cos(2*t*Math.PI/n),r*Math.sin(2*t*Math.PI/n),0));return a.translate(e)}}},function(t,e,r){const n=r(4);r(2);t.exports=class t extends Float32Array{constructor(t,e,r){super(3),Array.isArray(t)?(this.x=t[0],this.y=e[1],this.z=r[2]):(this.x=t||0,this.y=e||0,this.z=r||0)}set x(t){this[0]=t}get x(){return this[0]}set y(t){this[1]=t}get y(){return this[1]}set z(t){this[2]=t}get z(){return this[2]}mul(e,r,a){void 0===r&&void 0===a&&(r=a=e);const i=new t;return n.multiply(i,this,[e,r,a])}translate(e,r,a){const i=new t;return e instanceof t?n.add(i,this,e):n.add(i,this,[e,r,a])}scale(t,e,r,n){void 0===r&&void 0===n&&(r=n=e);const a=this.translate(t.mul(-1));return a.mul(e,r,n),a.translate(t)}rotateX(e,r){const a=new t;return n.rotateX(a,this,e,r)}rotateY(e,r){const a=new t;return n.rotateY(a,this,e,r)}rotateZ(e,r){const a=new t;return n.rotateZ(a,this,e,r)}static distance(t,e){return n.distance(t,e)}},t.exports.ORIGIN=new t.exports(0,0,0)},function(t,e){t.exports=class t extends Float32Array{constructor(t,e,r,n){super(4),Array.isArray(t)?(this.r=t[0],this.g=t[1],this.b=t[2],this.a="number"==typeof t[3]?t[3]:1):(this.r=t||0,this.g=e||0,this.b=r||0,this.a="number"==typeof n?n:1)}set r(t){this[0]=t}get r(){return this[0]}set g(t){this[1]=t}get g(){return this[1]}set b(t){this[2]=t}get b(){return this[2]}set a(t){this[3]=t}get a(){return this[3]}lighten(e,r){r=r||new t(255,255,255);const n=t.rgb2hsl(r.r/255*this.r,r.g/255*this.g,r.b/255*this.b);return n[2]=Math.max(0,Math.min(n[2]+e,1)),new t(t.hsl2rgb(...n))}normalized(){return new t(this.r/255,this.g/255,this.b/255,this.a)}static rgb2hsl(t,e,r){t/=255,e/=255,r/=255;let n,a,i=Math.max(t,e,r),o=Math.min(t,e,r),s=(i+o)/2;if(i===o)n=a=0;else{let u=i-o;switch(a=s>.5?u/(2-i-o):u/(i+o),i){case t:n=(e-r)/u+(e<r?6:0);break;case e:n=(r-t)/u+2;break;case r:n=(t-e)/u+4}n/=6}return[n,a,s]}static hsl2rgb(t,e,r){let n,a,i;if(0===e)n=a=i=r;else{let o=r<.5?r*(1+e):r+e-r*e,s=2*r-o;n=this._hue2rgb(s,o,t+1/3),a=this._hue2rgb(s,o,t),i=this._hue2rgb(s,o,t-1/3)}return[255*n,255*a,255*i]}static _hue2rgb(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}}},function(t,e,r){t.exports={EPSILON:r(5),create:r(6),clone:r(23),angle:r(24),fromValues:r(7),copy:r(25),set:r(26),equals:r(27),exactEquals:r(28),add:r(29),subtract:r(10),sub:r(30),multiply:r(11),mul:r(31),divide:r(12),div:r(32),min:r(33),max:r(34),floor:r(35),ceil:r(36),round:r(37),scale:r(38),scaleAndAdd:r(39),distance:r(13),dist:r(40),squaredDistance:r(14),sqrDist:r(41),length:r(15),len:r(42),squaredLength:r(16),sqrLen:r(43),negate:r(44),inverse:r(45),normalize:r(8),dot:r(9),cross:r(46),lerp:r(47),random:r(48),transformMat4:r(49),transformMat3:r(50),transformQuat:r(51),rotateX:r(52),rotateY:r(53),rotateZ:r(54),forEach:r(55)}},function(t,e){t.exports=1e-6},function(t,e){t.exports=function(){var t=new Float32Array(3);return t[0]=0,t[1]=0,t[2]=0,t}},function(t,e){t.exports=function(t,e,r){var n=new Float32Array(3);return n[0]=t,n[1]=e,n[2]=r,n}},function(t,e){t.exports=function(t,e){var r=e[0],n=e[1],a=e[2],i=r*r+n*n+a*a;i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i);return t}},function(t,e){t.exports=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}},function(t,e){t.exports=function(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t}},function(t,e){t.exports=function(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t}},function(t,e){t.exports=function(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t}},function(t,e){t.exports=function(t,e){var r=e[0]-t[0],n=e[1]-t[1],a=e[2]-t[2];return Math.sqrt(r*r+n*n+a*a)}},function(t,e){t.exports=function(t,e){var r=e[0]-t[0],n=e[1]-t[1],a=e[2]-t[2];return r*r+n*n+a*a}},function(t,e){t.exports=function(t){var e=t[0],r=t[1],n=t[2];return Math.sqrt(e*e+r*r+n*n)}},function(t,e){t.exports=function(t){var e=t[0],r=t[1],n=t[2];return e*e+r*r+n*n}},function(t,e,r){const n=r(1),a=r(2);t.exports=class t{constructor(...t){Array.isArray(t[0])?this.paths=t[0]:this.paths=t}push(t){this.paths.push(t)}translate(...e){return new t(this.paths.map(t=>t.translate(...e)))}rotateX(...e){return new t(this.paths.map(t=>t.rotateX(...e)))}rotateY(...e){return new t(this.paths.map(t=>t.rotateY(...e)))}rotateZ(...e){return new t(this.paths.map(t=>t.rotateZ(...e)))}scale(...e){return new t(this.paths.map(t=>t.scale(...e)))}static extrude(e,r){const a=e.translate(0,0,r),i=new t;i.push(e.reverse()),i.push(a);for(let t=0;t<e.points.length;t++)i.push(new n([a.points[t],e.points[t],e.points[(t+1)%e.points.length],a.points[(t+1)%a.points.length]]));return i}static Prism(e,r,i,o){r="number"==typeof r?r:1,i="number"==typeof i?i:1,o="number"==typeof o?o:1;const s=new t,u=new n([e,new a(e.x+r,e.y,e.z),new a(e.x+r,e.y,e.z+o),new a(e.x,e.y,e.z+o)]);s.push(u),s.push(u.reverse().translate(0,i,0));const c=new n([e,new a(e.x,e.y,e.z+o),new a(e.x,e.y+i,e.z+o),new a(e.x,e.y+i,e.z)]);s.push(c),s.push(c.reverse().translate(r,0,0));const l=new n([e,new a(e.x+r,e.y,e.z),new a(e.x+r,e.y+i,e.z),new a(e.x,e.y+i,e.z)]);return s.push(l.reverse()),s.push(l.translate(0,0,o)),s}static Pyramid(e,r,i,o){r="number"==typeof r?r:1,i="number"==typeof i?i:1,o="number"==typeof o?o:1;const s=new t,u=new n([e,new a(e.x+r,e.y,e.z),new a(e.x+r/2,e.y+i/2,e.z+o)]);s.push(u),s.push(u.rotateZ(e.translate(r/2,i/2),Math.PI));const c=new n([e,new a(e.x+r/2,e.y+i/2,e.z+o),new a(e.x,e.y+i,e.z)]);return s.push(c),s.push(c.rotateZ(e.translate(r/2,i/2),Math.PI)),s}static Cylinder(e,r,a,i){r="number"==typeof r?r:1;const o=n.Circle(e,r,a);return t.extrude(o,i)}}},function(t,e){t.exports=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},function(t,e,r){"use strict";t.exports=function(t,e){for(var r={},n=0;n<t.length;++n)for(var a=t[n].name,i=a.split("."),o=r,s=0;s<i.length;++s){var u=i[s].split("[");if(u.length>1){u[0]in o||(o[u[0]]=[]),o=o[u[0]];for(var c=1;c<u.length;++c){var l=parseInt(u[c]);c<u.length-1||s<i.length-1?(l in o||(c<u.length-1?o[l]=[]:o[l]={}),o=o[l]):o[l]=e?n:t[n].type}}else s<i.length-1?(u[0]in o||(o[u[0]]={}),o=o[u[0]]):o[u[0]]=e?n:t[n].type}return r}},function(t,e){t.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},function(t,e){t.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},function(t,e,r){const n=r(3),a=r(1),i=r(2),o=r(17),s=r(56);s.Color=n,s.Path=a,s.Point=i,s.Shape=o,window.IsomerGL=t.exports=s},function(t,e){t.exports=function(t){var e=new Float32Array(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}},function(t,e,r){t.exports=function(t,e){var r=n(t[0],t[1],t[2]),o=n(e[0],e[1],e[2]);a(r,r),a(o,o);var s=i(r,o);return s>1?0:Math.acos(s)};var n=r(7),a=r(8),i=r(9)},function(t,e){t.exports=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}},function(t,e){t.exports=function(t,e,r,n){return t[0]=e,t[1]=r,t[2]=n,t}},function(t,e,r){t.exports=function(t,e){var r=t[0],a=t[1],i=t[2],o=e[0],s=e[1],u=e[2];return Math.abs(r-o)<=n*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(a-s)<=n*Math.max(1,Math.abs(a),Math.abs(s))&&Math.abs(i-u)<=n*Math.max(1,Math.abs(i),Math.abs(u))};var n=r(5)},function(t,e){t.exports=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}},function(t,e){t.exports=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t}},function(t,e,r){t.exports=r(10)},function(t,e,r){t.exports=r(11)},function(t,e,r){t.exports=r(12)},function(t,e){t.exports=function(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t}},function(t,e){t.exports=function(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t}},function(t,e){t.exports=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}},function(t,e){t.exports=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}},function(t,e){t.exports=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}},function(t,e){t.exports=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t}},function(t,e){t.exports=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t}},function(t,e,r){t.exports=r(13)},function(t,e,r){t.exports=r(14)},function(t,e,r){t.exports=r(15)},function(t,e,r){t.exports=r(16)},function(t,e){t.exports=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}},function(t,e){t.exports=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}},function(t,e){t.exports=function(t,e,r){var n=e[0],a=e[1],i=e[2],o=r[0],s=r[1],u=r[2];return t[0]=a*u-i*s,t[1]=i*o-n*u,t[2]=n*s-a*o,t}},function(t,e){t.exports=function(t,e,r,n){var a=e[0],i=e[1],o=e[2];return t[0]=a+n*(r[0]-a),t[1]=i+n*(r[1]-i),t[2]=o+n*(r[2]-o),t}},function(t,e){t.exports=function(t,e){e=e||1;var r=2*Math.random()*Math.PI,n=2*Math.random()-1,a=Math.sqrt(1-n*n)*e;return t[0]=Math.cos(r)*a,t[1]=Math.sin(r)*a,t[2]=n*e,t}},function(t,e){t.exports=function(t,e,r){var n=e[0],a=e[1],i=e[2],o=r[3]*n+r[7]*a+r[11]*i+r[15];return o=o||1,t[0]=(r[0]*n+r[4]*a+r[8]*i+r[12])/o,t[1]=(r[1]*n+r[5]*a+r[9]*i+r[13])/o,t[2]=(r[2]*n+r[6]*a+r[10]*i+r[14])/o,t}},function(t,e){t.exports=function(t,e,r){var n=e[0],a=e[1],i=e[2];return t[0]=n*r[0]+a*r[3]+i*r[6],t[1]=n*r[1]+a*r[4]+i*r[7],t[2]=n*r[2]+a*r[5]+i*r[8],t}},function(t,e){t.exports=function(t,e,r){var n=e[0],a=e[1],i=e[2],o=r[0],s=r[1],u=r[2],c=r[3],l=c*n+s*i-u*a,f=c*a+u*n-o*i,h=c*i+o*a-s*n,_=-o*n-s*a-u*i;return t[0]=l*c+_*-o+f*-u-h*-s,t[1]=f*c+_*-s+h*-o-l*-u,t[2]=h*c+_*-u+l*-s-f*-o,t}},function(t,e){t.exports=function(t,e,r,n){var a=r[1],i=r[2],o=e[1]-a,s=e[2]-i,u=Math.sin(n),c=Math.cos(n);return t[0]=e[0],t[1]=a+o*c-s*u,t[2]=i+o*u+s*c,t}},function(t,e){t.exports=function(t,e,r,n){var a=r[0],i=r[2],o=e[0]-a,s=e[2]-i,u=Math.sin(n),c=Math.cos(n);return t[0]=a+s*u+o*c,t[1]=e[1],t[2]=i+s*c-o*u,t}},function(t,e){t.exports=function(t,e,r,n){var a=r[0],i=r[1],o=e[0]-a,s=e[1]-i,u=Math.sin(n),c=Math.cos(n);return t[0]=a+o*c-s*u,t[1]=i+o*u+s*c,t[2]=e[2],t}},function(t,e,r){t.exports=function(t,e,r,a,i,o){var s,u;e||(e=3);r||(r=0);u=a?Math.min(a*e+r,t.length):t.length;for(s=r;s<u;s+=e)n[0]=t[s],n[1]=t[s+1],n[2]=t[s+2],i(n,n,o),t[s]=n[0],t[s+1]=n[1],t[s+2]=n[2];return t};var n=r(6)()},function(t,e,r){const n=r(57),a=r(4),i=r(86),o=r(87),s=r(3),u=r(17),c=r(1);t.exports=class{constructor(t,e={}){if(this.canvas=t,this.gl=t.getContext("webgl"),!this.gl)throw new Error("Failed to create WebGL context");this.angle=Math.PI/5,this.scale=e.scale||70,this.shapes=[],this.originX=e.originX||this.canvas.width/2,this.originY=e.originY||.9*this.canvas.height,this.clipNear=-100,this.clipFar=100,this.lightPosition=e.lightPosition||[2,3,-1],this.lightAngle=a.create(),a.normalize(this.lightAngle,this.lightPosition),this.colorDifference=.2,this.lightColor=e.lightColor||new s(255,255,255);const r=o(this.gl,"\nprecision mediump float;\n\nattribute vec3 position;\nuniform mat4 transform;\n\nvoid main() {\n    gl_Position = transform * vec4(position, 1);\n}\n        ","\nprecision highp float;\n\nuniform vec4 color;\n\nvoid main() {\n    gl_FragColor = color;\n}\n        ");r.attributes.position.location=0,this.shaders={path:r}}add(t,e){if(e=e||new s(120,120,120),Array.isArray(t))for(const r of t)this.add(r,e);else if(t instanceof u)this.shapes.push({shape:t,baseColor:e});else{if(!(t instanceof c))throw new TypeError("Cannot add non-shape object to IsomerGL");this.shapes.push({shape:new u(t),baseColor:e})}}draw(){const{gl:t}=this;t.clearColor(0,0,0,0),t.viewport(0,0,this.canvas.width,this.canvas.height),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),t.enable(t.DEPTH_TEST),t.depthMask(!0),t.depthFunc(t.LEQUAL),t.enable(t.BLEND),t.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA);const e=n.create(),r=this.canvas.width/this.scale,a=this.canvas.height/this.scale;n.ortho(e,r/2,-r/2,-a/2,a/2,this.clipNear,this.clipFar);const i=n.create();n.translate(i,i,[this.originX/this.canvas.width*2-1,this.originY/this.canvas.height*-2+1,0,0]),n.multiply(e,i,e);const o=n.create();n.rotate(o,o,this.angle,[1,0,0]),n.rotate(o,o,3*Math.PI/4,[0,1,0]),n.multiply(e,e,o),n.multiply(e,e,[1,0,0,0,0,0,1,0,0,1,0,0,0,0,0,1]);for(const{shape:t,baseColor:r}of this.shapes)for(const n of t.paths)this.drawPath(n,e,r);this.shapes=[]}drawPath(t,e,r){const n=new i.GluTesselator;n.gluTessCallback(i.gluEnum.GLU_TESS_VERTEX_DATA,(t,e)=>{e.push(t[0]),e.push(t[1]),e.push(t[2])});let o=[];n.gluTessBeginPolygon(o),n.gluTessBeginContour();for(const e of t.points)n.gluTessVertex(e,e);n.gluTessEndContour(),n.gluTessEndPolygon(),o=new Float32Array(o);const{gl:s}=this,u=this.shaders.path;u.bind(),u.uniforms.transform=e;const c=a.create(),l=a.create();let f=t=>[t[0],t[2],t[1]];a.sub(c,f(t.points[0]),f(t.points[1])),a.sub(l,f(t.points[2]),f(t.points[1]));const h=a.normalize(a.create(),a.cross(a.create(),c,l)),_=a.dot(h,this.lightAngle),E=r.lighten(_*this.colorDifference,this.lightColor);u.uniforms.color=E.normalized();const p=s.createBuffer();s.bindBuffer(s.ARRAY_BUFFER,p),s.bufferData(s.ARRAY_BUFFER,o,s.STATIC_DRAW),s.enableVertexAttribArray(0),s.vertexAttribPointer(0,3,s.FLOAT,!1,0,0),s.drawArrays(s.TRIANGLES,0,o.length/3)}}},function(t,e,r){t.exports={create:r(58),clone:r(59),copy:r(60),identity:r(18),transpose:r(61),invert:r(62),adjoint:r(63),determinant:r(64),multiply:r(65),translate:r(66),scale:r(67),rotate:r(68),rotateX:r(69),rotateY:r(70),rotateZ:r(71),fromRotation:r(72),fromRotationTranslation:r(73),fromScaling:r(74),fromTranslation:r(75),fromXRotation:r(76),fromYRotation:r(77),fromZRotation:r(78),fromQuat:r(79),frustum:r(80),perspective:r(81),perspectiveFromFieldOfView:r(82),ortho:r(83),lookAt:r(84),str:r(85)}},function(t,e){t.exports=function(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},function(t,e){t.exports=function(t){var e=new Float32Array(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}},function(t,e){t.exports=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}},function(t,e){t.exports=function(t,e){if(t===e){var r=e[1],n=e[2],a=e[3],i=e[6],o=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=r,t[6]=e[9],t[7]=e[13],t[8]=n,t[9]=i,t[11]=e[14],t[12]=a,t[13]=o,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}},function(t,e){t.exports=function(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],o=e[4],s=e[5],u=e[6],c=e[7],l=e[8],f=e[9],h=e[10],_=e[11],E=e[12],p=e[13],T=e[14],g=e[15],b=r*s-n*o,d=r*u-a*o,A=r*c-i*o,v=n*u-a*s,R=n*c-i*s,m=a*c-i*u,S=l*p-f*E,x=l*T-h*E,M=l*g-_*E,I=f*T-h*p,N=f*g-_*p,L=h*g-_*T,y=b*L-d*N+A*I+v*M-R*x+m*S;if(!y)return null;return y=1/y,t[0]=(s*L-u*N+c*I)*y,t[1]=(a*N-n*L-i*I)*y,t[2]=(p*m-T*R+g*v)*y,t[3]=(h*R-f*m-_*v)*y,t[4]=(u*M-o*L-c*x)*y,t[5]=(r*L-a*M+i*x)*y,t[6]=(T*A-E*m-g*d)*y,t[7]=(l*m-h*A+_*d)*y,t[8]=(o*N-s*M+c*S)*y,t[9]=(n*M-r*N-i*S)*y,t[10]=(E*R-p*A+g*b)*y,t[11]=(f*A-l*R-_*b)*y,t[12]=(s*x-o*I-u*S)*y,t[13]=(r*I-n*x+a*S)*y,t[14]=(p*d-E*v-T*b)*y,t[15]=(l*v-f*d+h*b)*y,t}},function(t,e){t.exports=function(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],o=e[4],s=e[5],u=e[6],c=e[7],l=e[8],f=e[9],h=e[10],_=e[11],E=e[12],p=e[13],T=e[14],g=e[15];return t[0]=s*(h*g-_*T)-f*(u*g-c*T)+p*(u*_-c*h),t[1]=-(n*(h*g-_*T)-f*(a*g-i*T)+p*(a*_-i*h)),t[2]=n*(u*g-c*T)-s*(a*g-i*T)+p*(a*c-i*u),t[3]=-(n*(u*_-c*h)-s*(a*_-i*h)+f*(a*c-i*u)),t[4]=-(o*(h*g-_*T)-l*(u*g-c*T)+E*(u*_-c*h)),t[5]=r*(h*g-_*T)-l*(a*g-i*T)+E*(a*_-i*h),t[6]=-(r*(u*g-c*T)-o*(a*g-i*T)+E*(a*c-i*u)),t[7]=r*(u*_-c*h)-o*(a*_-i*h)+l*(a*c-i*u),t[8]=o*(f*g-_*p)-l*(s*g-c*p)+E*(s*_-c*f),t[9]=-(r*(f*g-_*p)-l*(n*g-i*p)+E*(n*_-i*f)),t[10]=r*(s*g-c*p)-o*(n*g-i*p)+E*(n*c-i*s),t[11]=-(r*(s*_-c*f)-o*(n*_-i*f)+l*(n*c-i*s)),t[12]=-(o*(f*T-h*p)-l*(s*T-u*p)+E*(s*h-u*f)),t[13]=r*(f*T-h*p)-l*(n*T-a*p)+E*(n*h-a*f),t[14]=-(r*(s*T-u*p)-o*(n*T-a*p)+E*(n*u-a*s)),t[15]=r*(s*h-u*f)-o*(n*h-a*f)+l*(n*u-a*s),t}},function(t,e){t.exports=function(t){var e=t[0],r=t[1],n=t[2],a=t[3],i=t[4],o=t[5],s=t[6],u=t[7],c=t[8],l=t[9],f=t[10],h=t[11],_=t[12],E=t[13],p=t[14],T=t[15];return(e*o-r*i)*(f*T-h*p)-(e*s-n*i)*(l*T-h*E)+(e*u-a*i)*(l*p-f*E)+(r*s-n*o)*(c*T-h*_)-(r*u-a*o)*(c*p-f*_)+(n*u-a*s)*(c*E-l*_)}},function(t,e){t.exports=function(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3],s=e[4],u=e[5],c=e[6],l=e[7],f=e[8],h=e[9],_=e[10],E=e[11],p=e[12],T=e[13],g=e[14],b=e[15],d=r[0],A=r[1],v=r[2],R=r[3];return t[0]=d*n+A*s+v*f+R*p,t[1]=d*a+A*u+v*h+R*T,t[2]=d*i+A*c+v*_+R*g,t[3]=d*o+A*l+v*E+R*b,d=r[4],A=r[5],v=r[6],R=r[7],t[4]=d*n+A*s+v*f+R*p,t[5]=d*a+A*u+v*h+R*T,t[6]=d*i+A*c+v*_+R*g,t[7]=d*o+A*l+v*E+R*b,d=r[8],A=r[9],v=r[10],R=r[11],t[8]=d*n+A*s+v*f+R*p,t[9]=d*a+A*u+v*h+R*T,t[10]=d*i+A*c+v*_+R*g,t[11]=d*o+A*l+v*E+R*b,d=r[12],A=r[13],v=r[14],R=r[15],t[12]=d*n+A*s+v*f+R*p,t[13]=d*a+A*u+v*h+R*T,t[14]=d*i+A*c+v*_+R*g,t[15]=d*o+A*l+v*E+R*b,t}},function(t,e){t.exports=function(t,e,r){var n,a,i,o,s,u,c,l,f,h,_,E,p=r[0],T=r[1],g=r[2];e===t?(t[12]=e[0]*p+e[4]*T+e[8]*g+e[12],t[13]=e[1]*p+e[5]*T+e[9]*g+e[13],t[14]=e[2]*p+e[6]*T+e[10]*g+e[14],t[15]=e[3]*p+e[7]*T+e[11]*g+e[15]):(n=e[0],a=e[1],i=e[2],o=e[3],s=e[4],u=e[5],c=e[6],l=e[7],f=e[8],h=e[9],_=e[10],E=e[11],t[0]=n,t[1]=a,t[2]=i,t[3]=o,t[4]=s,t[5]=u,t[6]=c,t[7]=l,t[8]=f,t[9]=h,t[10]=_,t[11]=E,t[12]=n*p+s*T+f*g+e[12],t[13]=a*p+u*T+h*g+e[13],t[14]=i*p+c*T+_*g+e[14],t[15]=o*p+l*T+E*g+e[15]);return t}},function(t,e){t.exports=function(t,e,r){var n=r[0],a=r[1],i=r[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*a,t[5]=e[5]*a,t[6]=e[6]*a,t[7]=e[7]*a,t[8]=e[8]*i,t[9]=e[9]*i,t[10]=e[10]*i,t[11]=e[11]*i,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}},function(t,e){t.exports=function(t,e,r,n){var a,i,o,s,u,c,l,f,h,_,E,p,T,g,b,d,A,v,R,m,S,x,M,I,N=n[0],L=n[1],y=n[2],C=Math.sqrt(N*N+L*L+y*y);if(Math.abs(C)<1e-6)return null;N*=C=1/C,L*=C,y*=C,a=Math.sin(r),i=Math.cos(r),o=1-i,s=e[0],u=e[1],c=e[2],l=e[3],f=e[4],h=e[5],_=e[6],E=e[7],p=e[8],T=e[9],g=e[10],b=e[11],d=N*N*o+i,A=L*N*o+y*a,v=y*N*o-L*a,R=N*L*o-y*a,m=L*L*o+i,S=y*L*o+N*a,x=N*y*o+L*a,M=L*y*o-N*a,I=y*y*o+i,t[0]=s*d+f*A+p*v,t[1]=u*d+h*A+T*v,t[2]=c*d+_*A+g*v,t[3]=l*d+E*A+b*v,t[4]=s*R+f*m+p*S,t[5]=u*R+h*m+T*S,t[6]=c*R+_*m+g*S,t[7]=l*R+E*m+b*S,t[8]=s*x+f*M+p*I,t[9]=u*x+h*M+T*I,t[10]=c*x+_*M+g*I,t[11]=l*x+E*M+b*I,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t}},function(t,e){t.exports=function(t,e,r){var n=Math.sin(r),a=Math.cos(r),i=e[4],o=e[5],s=e[6],u=e[7],c=e[8],l=e[9],f=e[10],h=e[11];e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t[4]=i*a+c*n,t[5]=o*a+l*n,t[6]=s*a+f*n,t[7]=u*a+h*n,t[8]=c*a-i*n,t[9]=l*a-o*n,t[10]=f*a-s*n,t[11]=h*a-u*n,t}},function(t,e){t.exports=function(t,e,r){var n=Math.sin(r),a=Math.cos(r),i=e[0],o=e[1],s=e[2],u=e[3],c=e[8],l=e[9],f=e[10],h=e[11];e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t[0]=i*a-c*n,t[1]=o*a-l*n,t[2]=s*a-f*n,t[3]=u*a-h*n,t[8]=i*n+c*a,t[9]=o*n+l*a,t[10]=s*n+f*a,t[11]=u*n+h*a,t}},function(t,e){t.exports=function(t,e,r){var n=Math.sin(r),a=Math.cos(r),i=e[0],o=e[1],s=e[2],u=e[3],c=e[4],l=e[5],f=e[6],h=e[7];e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t[0]=i*a+c*n,t[1]=o*a+l*n,t[2]=s*a+f*n,t[3]=u*a+h*n,t[4]=c*a-i*n,t[5]=l*a-o*n,t[6]=f*a-s*n,t[7]=h*a-u*n,t}},function(t,e){t.exports=function(t,e,r){var n,a,i,o=r[0],s=r[1],u=r[2],c=Math.sqrt(o*o+s*s+u*u);if(Math.abs(c)<1e-6)return null;return o*=c=1/c,s*=c,u*=c,n=Math.sin(e),a=Math.cos(e),i=1-a,t[0]=o*o*i+a,t[1]=s*o*i+u*n,t[2]=u*o*i-s*n,t[3]=0,t[4]=o*s*i-u*n,t[5]=s*s*i+a,t[6]=u*s*i+o*n,t[7]=0,t[8]=o*u*i+s*n,t[9]=s*u*i-o*n,t[10]=u*u*i+a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},function(t,e){t.exports=function(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3],s=n+n,u=a+a,c=i+i,l=n*s,f=n*u,h=n*c,_=a*u,E=a*c,p=i*c,T=o*s,g=o*u,b=o*c;return t[0]=1-(_+p),t[1]=f+b,t[2]=h-g,t[3]=0,t[4]=f-b,t[5]=1-(l+p),t[6]=E+T,t[7]=0,t[8]=h+g,t[9]=E-T,t[10]=1-(l+_),t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}},function(t,e){t.exports=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},function(t,e){t.exports=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}},function(t,e){t.exports=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=r,t[7]=0,t[8]=0,t[9]=-r,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},function(t,e){t.exports=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=0,t[2]=-r,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=r,t[9]=0,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},function(t,e){t.exports=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=0,t[4]=-r,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},function(t,e){t.exports=function(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],o=r+r,s=n+n,u=a+a,c=r*o,l=n*o,f=n*s,h=a*o,_=a*s,E=a*u,p=i*o,T=i*s,g=i*u;return t[0]=1-f-E,t[1]=l+g,t[2]=h-T,t[3]=0,t[4]=l-g,t[5]=1-c-E,t[6]=_+p,t[7]=0,t[8]=h+T,t[9]=_-p,t[10]=1-c-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},function(t,e){t.exports=function(t,e,r,n,a,i,o){var s=1/(r-e),u=1/(a-n),c=1/(i-o);return t[0]=2*i*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*i*u,t[6]=0,t[7]=0,t[8]=(r+e)*s,t[9]=(a+n)*u,t[10]=(o+i)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*i*2*c,t[15]=0,t}},function(t,e){t.exports=function(t,e,r,n,a){var i=1/Math.tan(e/2),o=1/(n-a);return t[0]=i/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(a+n)*o,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*a*n*o,t[15]=0,t}},function(t,e){t.exports=function(t,e,r,n){var a=Math.tan(e.upDegrees*Math.PI/180),i=Math.tan(e.downDegrees*Math.PI/180),o=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),u=2/(o+s),c=2/(a+i);return t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-(o-s)*u*.5,t[9]=(a-i)*c*.5,t[10]=n/(r-n),t[11]=-1,t[12]=0,t[13]=0,t[14]=n*r/(r-n),t[15]=0,t}},function(t,e){t.exports=function(t,e,r,n,a,i,o){var s=1/(e-r),u=1/(n-a),c=1/(i-o);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+r)*s,t[13]=(a+n)*u,t[14]=(o+i)*c,t[15]=1,t}},function(t,e,r){var n=r(18);t.exports=function(t,e,r,a){var i,o,s,u,c,l,f,h,_,E,p=e[0],T=e[1],g=e[2],b=a[0],d=a[1],A=a[2],v=r[0],R=r[1],m=r[2];if(Math.abs(p-v)<1e-6&&Math.abs(T-R)<1e-6&&Math.abs(g-m)<1e-6)return n(t);f=p-v,h=T-R,_=g-m,E=1/Math.sqrt(f*f+h*h+_*_),i=d*(_*=E)-A*(h*=E),o=A*(f*=E)-b*_,s=b*h-d*f,(E=Math.sqrt(i*i+o*o+s*s))?(i*=E=1/E,o*=E,s*=E):(i=0,o=0,s=0);u=h*s-_*o,c=_*i-f*s,l=f*o-h*i,(E=Math.sqrt(u*u+c*c+l*l))?(u*=E=1/E,c*=E,l*=E):(u=0,c=0,l=0);return t[0]=i,t[1]=u,t[2]=f,t[3]=0,t[4]=o,t[5]=c,t[6]=h,t[7]=0,t[8]=s,t[9]=l,t[10]=_,t[11]=0,t[12]=-(i*p+o*T+s*g),t[13]=-(u*p+c*T+l*g),t[14]=-(f*p+h*T+_*g),t[15]=1,t}},function(t,e){t.exports=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}},function(t,e,r){"use strict";var n;function a(t,e){return t.b===e.b&&t.a===e.a}function i(t,e){return t.b<e.b||t.b===e.b&&t.a<=e.a}function o(t,e,r){var n=e.b-t.b,a=r.b-e.b;return 0<n+a?n<a?e.a-t.a+n/(n+a)*(t.a-r.a):e.a-r.a+a/(n+a)*(r.a-t.a):0}function s(t,e,r){var n=e.b-t.b,a=r.b-e.b;return 0<n+a?(e.a-r.a)*n+(e.a-t.a)*a:0}function u(t,e){return t.a<e.a||t.a===e.a&&t.b<=e.b}function c(t,e,r){var n=e.a-t.a,a=r.a-e.a;return 0<n+a?n<a?e.b-t.b+n/(n+a)*(t.b-r.b):e.b-r.b+a/(n+a)*(r.b-t.b):0}function l(t,e,r){var n=e.a-t.a,a=r.a-e.a;return 0<n+a?(e.b-r.b)*n+(e.b-t.b)*a:0}function f(t){return i(t.b.a,t.a)}function h(t){return i(t.a,t.b.a)}function _(t,e,r,n){return(t=0>t?0:t)<=(r=0>r?0:r)?0===r?(e+n)/2:e+t/(t+r)*(n-e):n+r/(t+r)*(e-n)}function E(t){var e=d(t.b);return v(e,t.c),v(e.b,t.c),R(e,t.a),e}function p(t,e){var r=!1,n=!1;t!==e&&(e.a!==t.a&&(n=!0,S(e.a,t.a)),e.d!==t.d&&(r=!0,x(e.d,t.d)),A(e,t),n||(v(e,t.a),t.a.c=t),r||(R(e,t.d),t.d.a=t))}function T(t){var e=t.b,r=!1;t.d!==t.b.d&&(r=!0,x(t.d,t.b.d)),t.c===t?S(t.a,null):(t.b.d.a=et(t),t.a.c=t.c,A(t,et(t)),r||R(t,t.d)),e.c===e?(S(e.a,null),x(e.d,null)):(t.d.a=et(e),e.a.c=e.c,A(e,et(e))),m(t)}function g(t){var e=d(t),r=e.b;return A(e,t.e),e.a=t.b.a,v(r,e.a),e.d=r.d=t.d,e=e.b,A(t.b,et(t.b)),A(t.b,e),t.b.a=e.a,e.b.a.c=e.b,e.b.d=t.b.d,e.f=t.f,e.b.f=t.b.f,e}function b(t,e){var r=!1,n=d(t),a=n.b;return e.d!==t.d&&(r=!0,x(e.d,t.d)),A(n,t.e),A(a,e),n.a=t.b.a,a.a=e.a,n.d=a.d=t.d,t.d.a=a,r||R(n,t.d),n}function d(t){var e=new tt,r=new tt,n=t.b.h;return r.h=n,n.b.h=e,e.h=t,t.b.h=r,e.b=r,e.c=e,e.e=r,r.b=e,r.c=r,r.e=e}function A(t,e){var r=t.c,n=e.c;r.b.e=e,n.b.e=t,t.c=n,e.c=r}function v(t,e){var r=e.f,n=new nt(e,r);r.e=n,e.f=n,r=n.c=t;do{r.a=n,r=r.c}while(r!==t)}function R(t,e){var r=e.d,n=new $(e,r);r.b=n,e.d=n,n.a=t,n.c=e.c,r=t;do{r.d=n,r=r.e}while(r!==t)}function m(t){var e=t.h;t=t.b.h,e.b.h=t,t.b.h=e}function S(t,e){var r=t.c,n=r;do{n.a=e,n=n.c}while(n!==r);r=t.f,(n=t.e).f=r,r.e=n}function x(t,e){var r=t.a,n=r;do{n.d=e,n=n.e}while(n!==r);r=t.d,(n=t.b).d=r,r.b=n}function M(t){var e=0;return Math.abs(t[1])>Math.abs(t[0])&&(e=1),Math.abs(t[2])>Math.abs(t[e])&&(e=2),e}var I=4e150;function N(t,e){t.f+=e.f,t.b.f+=e.b.f}function L(t,e,r){return t=t.a,e=e.a,r=r.a,e.b.a===t?r.b.a===t?i(e.a,r.a)?0>=s(r.b.a,e.a,r.a):0<=s(e.b.a,r.a,e.a):0>=s(r.b.a,t,r.a):r.b.a===t?0<=s(e.b.a,t,e.a):(e=o(e.b.a,t,e.a))>=(t=o(r.b.a,t,r.a))}function y(t){t.a.i=null;var e=t.e;e.a.c=e.c,e.c.a=e.a,t.e=null}function C(t,e){T(t.a),t.c=!1,t.a=e,e.i=t}function P(t){var e=t.a.a;do{t=pt(t)}while(t.a.a===e);return t.c&&(C(t,e=b(Et(t).a.b,t.a.e)),t=pt(t)),t}function w(t,e,r){var n=new _t;return n.a=r,n.e=W(t.f,e.e,n),r.i=n}function U(t,e){switch(t.s){case 100130:return 0!=(1&e);case 100131:return 0!==e;case 100132:return 0<e;case 100133:return 0>e;case 100134:return 2<=e||-2>=e}return!1}function O(t){var e=t.a,r=e.d;r.c=t.d,r.a=e,y(t)}function D(t,e,r){for(t=e,e=e.a;t!==r;){t.c=!1;var n=Et(t),a=n.a;if(a.a!==e.a){if(!n.c){O(t);break}C(n,a=b(e.c.b,a.b))}e.c!==a&&(p(et(a),a),p(e,a)),O(t),e=n.a,t=n}return e}function F(t,e,r,n,a,i){var o=!0;do{w(t,e,r.b),r=r.c}while(r!==n);for(null===a&&(a=Et(e).a.b.c);(r=(n=Et(e)).a.b).a===a.a;)r.c!==a&&(p(et(r),r),p(et(a),r)),n.f=e.f-r.f,n.d=U(t,n.f),e.b=!0,!o&&X(t,e)&&(N(r,a),y(e),T(a)),o=!1,e=n,a=r;e.b=!0,i&&j(t,e)}function B(t,e,r,n,a){var i=[e.g[0],e.g[1],e.g[2]];e.d=null,e.d=t.o&&t.o(i,r,n,t.c)||null,null===e.d&&(a?t.n||(J(t,100156),t.n=!0):e.d=r[0])}function G(t,e,r){var n=[null,null,null,null];n[0]=e.a.d,n[1]=r.a.d,B(t,e.a,n,[.5,.5,0,0],!1),p(e,r)}function V(t,e,r,n,a){var i=Math.abs(e.b-t.b)+Math.abs(e.a-t.a),o=Math.abs(r.b-t.b)+Math.abs(r.a-t.a),s=a+1;n[a]=.5*o/(i+o),n[s]=.5*i/(i+o),t.g[0]+=n[a]*e.g[0]+n[s]*r.g[0],t.g[1]+=n[a]*e.g[1]+n[s]*r.g[1],t.g[2]+=n[a]*e.g[2]+n[s]*r.g[2]}function X(t,e){var r=Et(e),n=e.a,o=r.a;if(i(n.a,o.a)){if(0<s(o.b.a,n.a,o.a))return!1;if(a(n.a,o.a)){if(n.a!==o.a){r=t.e;var u=n.a.h;if(0<=u){var c=(r=r.b).d,l=r.e,f=r.c,h=f[u];c[h]=c[r.a],f[c[h]]=h,h<=--r.a&&(1>=h?ft(r,h):i(l[c[h>>1]],l[c[h]])?ft(r,h):ht(r,h)),l[u]=null,f[u]=r.b,r.b=u}else for(r.c[-(u+1)]=null;0<r.a&&null===r.c[r.d[r.a-1]];)--r.a;G(t,et(o),n)}}else g(o.b),p(n,et(o)),e.b=r.b=!0}else{if(0>s(n.b.a,o.a,n.a))return!1;pt(e).b=e.b=!0,g(n.b),p(et(o),n)}return!0}function k(t,e){var r=Et(e),n=e.a,f=r.a,h=n.a,E=f.a,T=n.b.a,b=f.b.a,d=new nt;if(s(T,t.a,h),s(b,t.a,E),h===E||Math.min(h.a,T.a)>Math.max(E.a,b.a))return!1;if(i(h,E)){if(0<s(b,h,E))return!1}else if(0>s(T,E,h))return!1;var A,v,R=T,m=h,S=b,x=E;if(i(R,m)||(A=R,R=m,m=A),i(S,x)||(A=S,S=x,x=A),i(R,S)||(A=R,R=S,S=A,A=m,m=x,x=A),i(S,m)?i(m,x)?(0>(A=o(R,S,m))+(v=o(S,m,x))&&(A=-A,v=-v),d.b=_(A,S.b,v,m.b)):(0>(A=s(R,S,m))+(v=-s(R,x,m))&&(A=-A,v=-v),d.b=_(A,S.b,v,x.b)):d.b=(S.b+m.b)/2,u(R,m)||(A=R,R=m,m=A),u(S,x)||(A=S,S=x,x=A),u(R,S)||(A=R,R=S,S=A,A=m,m=x,x=A),u(S,m)?u(m,x)?(0>(A=c(R,S,m))+(v=c(S,m,x))&&(A=-A,v=-v),d.a=_(A,S.a,v,m.a)):(0>(A=l(R,S,m))+(v=-l(R,x,m))&&(A=-A,v=-v),d.a=_(A,S.a,v,x.a)):d.a=(S.a+m.a)/2,i(d,t.a)&&(d.b=t.a.b,d.a=t.a.a),R=i(h,E)?h:E,i(R,d)&&(d.b=R.b,d.a=R.a),a(d,h)||a(d,E))return X(t,e),!1;if(!a(T,t.a)&&0<=s(T,t.a,d)||!a(b,t.a)&&0>=s(b,t.a,d)){if(b===t.a)return g(n.b),p(f.b,n),n=Et(e=P(e)).a,D(t,Et(e),r),F(t,e,et(n),n,n,!0),!0;if(T===t.a){g(f.b),p(n.e,et(f)),E=(h=r=e).a.b.a;do{h=pt(h)}while(h.a.b.a===E);return h=Et(e=h).a.b.c,r.a=et(f),F(t,e,(f=D(t,r,null)).c,n.b.c,h,!0),!0}return 0<=s(T,t.a,d)&&(pt(e).b=e.b=!0,g(n.b),n.a.b=t.a.b,n.a.a=t.a.a),0>=s(b,t.a,d)&&(e.b=r.b=!0,g(f.b),f.a.b=t.a.b,f.a.a=t.a.a),!1}return g(n.b),g(f.b),p(et(f),n),n.a.b=d.b,n.a.a=d.a,n.a.h=it(t.e,n.a),n=n.a,f=[0,0,0,0],d=[h.d,T.d,E.d,b.d],n.g[0]=n.g[1]=n.g[2]=0,V(n,h,T,f,0),V(n,E,b,f,2),B(t,n,d,f,!0),pt(e).b=e.b=r.b=!0,!1}function j(t,e){for(var r=Et(e);;){for(;r.b;)e=r,r=Et(r);if(!e.b&&(r=e,null===(e=pt(e))||!e.b))break;e.b=!1;var n,a=e.a,o=r.a;if(n=a.b.a!==o.b.a)t:{var u=Et(n=e),c=n.a,l=u.a,f=void 0;if(i(c.b.a,l.b.a)){if(0>s(c.b.a,l.b.a,c.a)){n=!1;break t}pt(n).b=n.b=!0,f=g(c),p(l.b,f),f.d.c=n.d}else{if(0<s(l.b.a,c.b.a,l.a)){n=!1;break t}n.b=u.b=!0,f=g(l),p(c.e,l.b),f.b.d.c=n.d}n=!0}if(n&&(r.c?(y(r),T(o),o=(r=Et(e)).a):e.c&&(y(e),T(a),a=(e=pt(r)).a)),a.a!==o.a)if(a.b.a===o.b.a||e.c||r.c||a.b.a!==t.a&&o.b.a!==t.a)X(t,e);else if(k(t,e))break;a.a===o.a&&a.b.a===o.b.a&&(N(o,a),y(e),T(a),e=pt(r))}}function H(t,e){t.a=e;for(var r=e.c;null===r.i;)if((r=r.c)===e.c){r=t;var n=e;(c=new _t).a=n.c.b;var o=(f=r.f).a;do{o=o.a}while(null!==o.b&&!f.c(f.b,c,o.b));var u=Et(f=o.b),c=f.a;o=u.a;if(0===s(c.b.a,n,c.a))a((c=f.a).a,n)||a(c.b.a,n)||(g(c.b),f.c&&(T(c.c),f.c=!1),p(n.c,c),H(r,n));else{var l=i(o.b.a,c.b.a)?f:u;u=void 0;f.d||l.c?(u=l===f?b(n.c.b,c.e):b(o.b.c.b,n.c).b,l.c?C(l,u):(c=r,(f=w(r,f,u)).f=pt(f).f+f.a.f,f.d=U(c,f.f)),H(r,n)):F(r,f,n.c,n.c,null,!0)}return}if(f=(c=Et(r=P(r.i))).a,(c=D(t,c,null)).c===f){c=(f=c).c,o=Et(r),u=r.a,l=o.a;var f,h=!1;u.b.a!==l.b.a&&k(t,r),a(u.a,t.a)&&(p(et(c),u),c=Et(r=P(r)).a,D(t,Et(r),o),h=!0),a(l.a,t.a)&&(p(f,et(l)),f=D(t,o,null),h=!0),h?F(t,r,f.c,c,c,!0):(n=i(l.a,u.a)?et(l):u,F(t,r,n=b(f.c.b,n),n.c,n.c,!1),n.b.i.c=!0,j(t,r))}else F(t,r,c.c,f,f,!0)}function Y(t,e){var r=new _t,n=E(t.b);n.a.b=I,n.a.a=e,n.b.a.b=-I,n.b.a.a=e,t.a=n.b.a,r.a=n,r.f=0,r.d=!1,r.c=!1,r.h=!0,r.b=!1,n=W(n=t.f,n.a,r),r.e=n}function z(t){this.a=new Z,this.b=t,this.c=L}function W(t,e,r){do{e=e.c}while(null!==e.b&&!t.c(t.b,e.b,r));return t=new Z(r,e.a,e),e.a.c=t,e.a=t}function Z(t,e,r){this.b=t||null,this.a=e||this,this.c=r||this}function K(){this.d=q,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}var q=0;function Q(t,e){if(t.d!==e)for(;t.d!==e;)if(t.d<e)switch(t.d){case q:J(t,100151),t.u(null);break;case 1:J(t,100152),t.t()}else switch(t.d){case 2:J(t,100154),t.v();break;case 1:J(t,100153),t.w()}}function J(t,e){t.p&&t.p(e,t.c)}function $(t,e){this.b=t||this,this.d=e||this,this.a=null,this.c=!1}function tt(){this.h=this,this.i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function et(t){return t.b.e}function rt(){this.c=new nt,this.a=new $,this.b=new tt,this.d=new tt,this.b.b=this.d,this.d.b=this.b}function nt(t,e){this.e=t||this,this.f=e||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function at(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new st}function it(t,e){if(t.e){var r,n=t.b,a=++n.a;return 2*a>n.f&&(n.f*=2,n.c=ut(n.c,n.f+1)),0===n.b?r=a:(r=n.b,n.b=n.c[n.b]),n.e[r]=e,n.c[r]=a,n.d[a]=r,n.h&&ht(n,a),r}return n=t.a++,t.c[n]=e,-(n+1)}function ot(t){if(0===t.a)return lt(t.b);var e=t.c[t.d[t.a-1]];if(0!==t.b.a&&i(ct(t.b),e))return lt(t.b);do{--t.a}while(0<t.a&&null===t.c[t.d[t.a-1]]);return e}function st(){this.d=ut([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function ut(t,e){for(var r=Array(e),n=0;n<t.length;n++)r[n]=t[n];for(;n<e;n++)r[n]=0;return r}function ct(t){return t.e[t.d[1]]}function lt(t){var e=t.d,r=t.e,n=t.c,a=e[1],i=r[a];return 0<t.a&&(e[1]=e[t.a],n[e[1]]=1,r[a]=null,n[a]=t.b,t.b=a,0<--t.a&&ft(t,1)),i}function ft(t,e){for(var r=t.d,n=t.e,a=t.c,o=e,s=r[o];;){var u=o<<1;u<t.a&&i(n[r[u+1]],n[r[u]])&&(u+=1);var c=r[u];if(u>t.a||i(n[s],n[c])){r[o]=s,a[s]=o;break}r[o]=c,a[c]=o,o=u}}function ht(t,e){for(var r=t.d,n=t.e,a=t.c,o=e,s=r[o];;){var u=o>>1,c=r[u];if(0===u||i(n[c],n[s])){r[o]=s,a[s]=o;break}r[o]=c,a[c]=o,o=u}}function _t(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function Et(t){return t.e.c.b}function pt(t){return t.e.a.b}(n=K.prototype).x=function(){Q(this,q)},n.B=function(t,e){switch(t){case 100142:return;case 100140:switch(e){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=e)}break;case 100141:return void(this.m=!!e);default:return void J(this,100900)}J(this,100901)},n.y=function(t){switch(t){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:J(this,100900)}return!1},n.A=function(t,e,r){this.j[0]=t,this.j[1]=e,this.j[2]=r},n.z=function(t,e){var r=e||null;switch(t){case 100100:case 100106:this.h=r;break;case 100104:case 100110:this.l=r;break;case 100101:case 100107:this.k=r;break;case 100102:case 100108:this.i=r;break;case 100103:case 100109:this.p=r;break;case 100105:case 100111:this.o=r;break;case 100112:this.r=r;break;default:J(this,100900)}},n.C=function(t,e){var r=!1,n=[0,0,0];Q(this,2);for(var a=0;3>a;++a){var i=t[a];-1e150>i&&(i=-1e150,r=!0),1e150<i&&(i=1e150,r=!0),n[a]=i}r&&J(this,100155),null===(r=this.q)?p(r=E(this.b),r.b):(g(r),r=r.e),r.a.d=e,r.a.g[0]=n[0],r.a.g[1]=n[1],r.a.g[2]=n[2],r.f=1,r.b.f=-1,this.q=r},n.u=function(t){Q(this,q),this.d=1,this.b=new rt,this.c=t},n.t=function(){Q(this,1),this.d=2,this.q=null},n.v=function(){Q(this,2),this.d=1},n.w=function(){Q(this,1),this.d=q;var t=!1,e=[c=this.j[0],r=this.j[1],o=this.j[2]];if(0===c&&0===r&&0===o){for(var r=[-2e150,-2e150,-2e150],n=[2e150,2e150,2e150],o=[],u=[],c=(t=this.b.c).e;c!==t;c=c.e)for(var l=0;3>l;++l){var _=c.g[l];_<n[l]&&(n[l]=_,u[l]=c),_>r[l]&&(r[l]=_,o[l]=c)}if(c=0,r[1]-n[1]>r[0]-n[0]&&(c=1),r[2]-n[2]>r[c]-n[c]&&(c=2),n[c]>=r[c])e[0]=0,e[1]=0,e[2]=1;else{for(r=0,n=u[c],o=o[c],u=[0,0,0],n=[n.g[0]-o.g[0],n.g[1]-o.g[1],n.g[2]-o.g[2]],l=[0,0,0],c=t.e;c!==t;c=c.e)l[0]=c.g[0]-o.g[0],l[1]=c.g[1]-o.g[1],l[2]=c.g[2]-o.g[2],u[0]=n[1]*l[2]-n[2]*l[1],u[1]=n[2]*l[0]-n[0]*l[2],u[2]=n[0]*l[1]-n[1]*l[0],(_=u[0]*u[0]+u[1]*u[1]+u[2]*u[2])>r&&(r=_,e[0]=u[0],e[1]=u[1],e[2]=u[2]);0>=r&&(e[0]=e[1]=e[2]=0,e[M(n)]=1)}t=!0}for(u=M(e),c=this.b.c,r=(u+1)%3,o=(u+2)%3,u=0<e[u]?1:-1,e=c.e;e!==c;e=e.e)e.b=e.g[r],e.a=u*e.g[o];if(t){for(e=0,c=(t=this.b.a).b;c!==t;c=c.b)if(!(0>=(r=c.a).f))do{e+=(r.a.b-r.b.a.b)*(r.a.a+r.b.a.a),r=r.e}while(r!==c.a);if(0>e)for(t=(e=this.b.c).e;t!==e;t=t.e)t.a=-t.a}for(this.n=!1,c=(e=this.b.b).h;c!==e;c=t)t=c.h,r=c.e,a(c.a,c.b.a)&&c.e.e!==c&&(G(this,r,c),T(c),r=(c=r).e),r.e===c&&(r!==c&&(r!==t&&r!==t.b||(t=t.h),T(r)),c!==t&&c!==t.b||(t=t.h),T(c));for(this.e=e=new at,c=(t=this.b.c).e;c!==t;c=c.e)c.h=it(e,c);for(function(t){t.d=[];for(var e=0;e<t.a;e++)t.d[e]=e;t.d.sort(function(t){return function(e,r){return i(t[e],t[r])?1:-1}}(t.c)),t.e=!0,function(t){for(var e=t.a;1<=e;--e)ft(t,e);t.h=!0}(t.b)}(e),this.f=new z(this),Y(this,-I),Y(this,I);null!==(e=ot(this.e));){for(;;){t:if(c=this.e,0===c.a)t=ct(c.b);else if(t=c.c[c.d[c.a-1]],0!==c.b.a&&(c=ct(c.b),i(c,t))){t=c;break t}if(null===t||!a(t,e))break;t=ot(this.e),G(this,e.c,t.c)}H(this,e)}for(this.a=this.f.a.a.b.a.a,e=0;null!==(t=this.f.a.a.b);)t.h||++e,y(t);for(this.f=null,(e=this.e).b=null,e.d=null,this.e=e.c=null,c=(e=this.b).a.b;c!==e.a;c=t)t=c.b,(c=c.a).e.e===c&&(N(c.c,c),T(c));if(!this.n){if(e=this.b,this.m)for(c=e.b.h;c!==e.b;c=t)t=c.h,c.b.d.c!==c.d.c?c.f=c.d.c?1:-1:T(c);else for(c=e.a.b;c!==e.a;c=t)if(t=c.b,c.c){for(c=c.a;i(c.b.a,c.a);c=c.c.b);for(;i(c.a,c.b.a);c=c.e);for(r=c.c.b,o=void 0;c.e!==r;)if(i(c.b.a,r.a)){for(;r.e!==c&&(f(r.e)||0>=s(r.a,r.b.a,r.e.b.a));)r=(o=b(r.e,r)).b;r=r.c.b}else{for(;r.e!==c&&(h(c.c.b)||0<=s(c.b.a,c.a,c.c.b.a));)c=(o=b(c,c.c.b)).b;c=c.e}for(;r.e.e!==c;)r=(o=b(r.e,r)).b}if(this.h||this.i||this.k||this.l)if(this.m){for(t=(e=this.b).a.b;t!==e.a;t=t.b)if(t.c){this.h&&this.h(2,this.c),c=t.a;do{this.k&&this.k(c.a.d,this.c),c=c.e}while(c!==t.a);this.i&&this.i(this.c)}}else{for(e=this.b,t=!!this.l,c=!1,r=-1,o=e.a.d;o!==e.a;o=o.d)if(o.c){c||(this.h&&this.h(4,this.c),c=!0),u=o.a;do{t&&(r!==(n=u.b.d.c?0:1)&&(r=n,this.l&&this.l(!!r,this.c))),this.k&&this.k(u.a.d,this.c),u=u.e}while(u!==o.a)}c&&this.i&&this.i(this.c)}if(this.r){for(c=(e=this.b).a.b;c!==e.a;c=t)if(t=c.b,!c.c){o=(r=c.a).e,u=void 0;do{o=(u=o).e,u.d=null,null===u.b.d&&(u.c===u?S(u.a,null):(u.a.c=u.c,A(u,et(u))),(n=u.b).c===n?S(n.a,null):(n.a.c=n.c,A(n,et(n))),m(u))}while(u!==r);r=c.d,(c=c.b).d=r,r.b=c}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:K,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},K.prototype.gluDeleteTess=K.prototype.x,K.prototype.gluTessProperty=K.prototype.B,K.prototype.gluGetTessProperty=K.prototype.y,K.prototype.gluTessNormal=K.prototype.A,K.prototype.gluTessCallback=K.prototype.z,K.prototype.gluTessVertex=K.prototype.C,K.prototype.gluTessBeginPolygon=K.prototype.u,K.prototype.gluTessBeginContour=K.prototype.t,K.prototype.gluTessEndContour=K.prototype.v,K.prototype.gluTessEndPolygon=K.prototype.w,t.exports=this.libtess},function(t,e,r){"use strict";var n=r(88),a=r(89),i=r(19),o=r(90),s=r(108),u=r(0);function c(t){this.gl=t,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var l=c.prototype;function f(t,e){return t.name<e.name?-1:1}l.bind=function(){var t;this.program||this._relink();var e=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),r=this.gl.lastAttribCount;if(e>r)for(t=r;t<e;t++)this.gl.enableVertexAttribArray(t);else if(r>e)for(t=e;t<r;t++)this.gl.disableVertexAttribArray(t);this.gl.lastAttribCount=e,this.gl.useProgram(this.program)},l.dispose=function(){for(var t=this.gl.lastAttribCount,e=0;e<t;e++)this.gl.disableVertexAttribArray(e);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null},l.update=function(t,e,r,c){if(!e||1===arguments.length){var l=t;t=l.vertex,e=l.fragment,r=l.uniforms,c=l.attributes}var h=this,_=h.gl,E=h._vref;h._vref=o.shader(_,_.VERTEX_SHADER,t),E&&E.dispose(),h.vertShader=h._vref.shader;var p=this._fref;if(h._fref=o.shader(_,_.FRAGMENT_SHADER,e),p&&p.dispose(),h.fragShader=h._fref.shader,!r||!c){var T=_.createProgram();if(_.attachShader(T,h.fragShader),_.attachShader(T,h.vertShader),_.linkProgram(T),!_.getProgramParameter(T,_.LINK_STATUS)){var g=_.getProgramInfoLog(T);throw new u(g,"Error linking program:"+g)}r=r||s.uniforms(_,T),c=c||s.attributes(_,T),_.deleteProgram(T)}(c=c.slice()).sort(f);var b,d=[],A=[],v=[];for(b=0;b<c.length;++b){var R=c[b];if(R.type.indexOf("mat")>=0){for(var m=0|R.type.charAt(R.type.length-1),S=new Array(m),x=0;x<m;++x)S[x]=v.length,A.push(R.name+"["+x+"]"),"number"==typeof R.location?v.push(R.location+x):Array.isArray(R.location)&&R.location.length===m&&"number"==typeof R.location[x]?v.push(0|R.location[x]):v.push(-1);d.push({name:R.name,type:R.type,locations:S})}else d.push({name:R.name,type:R.type,locations:[v.length]}),A.push(R.name),"number"==typeof R.location?v.push(0|R.location):v.push(-1)}var M=0;for(b=0;b<v.length;++b)if(v[b]<0){for(;v.indexOf(M)>=0;)M+=1;v[b]=M}var I=new Array(r.length);function N(){h.program=o.program(_,h._vref,h._fref,A,v);for(var t=0;t<r.length;++t)I[t]=_.getUniformLocation(h.program,r[t].name)}N(),h._relink=N,h.types={uniforms:i(r),attributes:i(c)},h.attributes=a(_,h,d,v),Object.defineProperty(h,"uniforms",n(_,h,r,I))},t.exports=function(t,e,r,n,a){var i=new c(t);return i.update(e,r,n,a),i}},function(t,e,r){"use strict";var n=r(19),a=r(0);function i(t){return new Function("y","return function(){return y}")(t)}function o(t,e){for(var r=new Array(t),n=0;n<t;++n)r[n]=e;return r}t.exports=function(t,e,r,s){function u(t,e,r){switch(r){case"bool":case"int":case"sampler2D":case"samplerCube":return"gl.uniform1i(locations["+e+"],obj"+t+")";case"float":return"gl.uniform1f(locations["+e+"],obj"+t+")";default:var n=r.indexOf("vec");if(!(0<=n&&n<=1&&r.length===4+n)){if(0===r.indexOf("mat")&&4===r.length){var i=r.charCodeAt(r.length-1)-48;if(i<2||i>4)throw new a("","Invalid uniform dimension type for matrix "+name+": "+r);return"gl.uniformMatrix"+i+"fv(locations["+e+"],false,obj"+t+")"}throw new a("","Unknown uniform data type for "+name+": "+r)}var i=r.charCodeAt(r.length-1)-48;if(i<2||i>4)throw new a("","Invalid data type");switch(r.charAt(0)){case"b":case"i":return"gl.uniform"+i+"iv(locations["+e+"],obj"+t+")";case"v":return"gl.uniform"+i+"fv(locations["+e+"],obj"+t+")";default:throw new a("","Unrecognized data type for vector "+name+": "+r)}}}function c(e){for(var n=["return function updateProperty(obj){"],a=function t(e,r){if("object"!=typeof r)return[[e,r]];var n=[];for(var a in r){var i=r[a],o=e;parseInt(a)+""===a?o+="["+a+"]":o+="."+a,"object"==typeof i?n.push.apply(n,t(o,i)):n.push([o,i])}return n}("",e),i=0;i<a.length;++i){var o=a[i],c=o[0],l=o[1];s[l]&&n.push(u(c,l,r[l].type))}n.push("return obj}");var f=new Function("gl","locations",n.join("\n"));return f(t,s)}function l(n,u,l){if("object"==typeof l){var h=f(l);Object.defineProperty(n,u,{get:i(h),set:c(l),enumerable:!0,configurable:!1})}else s[l]?Object.defineProperty(n,u,{get:(_=l,E=new Function("gl","wrapper","locations","return function(){return gl.getUniform(wrapper.program,locations["+_+"])}"),E(t,e,s)),set:c(l),enumerable:!0,configurable:!1}):n[u]=function(t){switch(t){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":case"float":return 0;default:var e=t.indexOf("vec");if(0<=e&&e<=1&&t.length===4+e){var r=t.charCodeAt(t.length-1)-48;if(r<2||r>4)throw new a("","Invalid data type");return"b"===t.charAt(0)?o(r,!1):o(r,0)}if(0===t.indexOf("mat")&&4===t.length){var r=t.charCodeAt(t.length-1)-48;if(r<2||r>4)throw new a("","Invalid uniform dimension type for matrix "+name+": "+t);return o(r*r,0)}throw new a("","Unknown uniform data type for "+name+": "+t)}}(r[l].type);var _,E}function f(t){var e;if(Array.isArray(t)){e=new Array(t.length);for(var r=0;r<t.length;++r)l(e,r,t[r])}else for(var n in e={},t)l(e,n,t[n]);return e}var h=n(r,!0);return{get:i(f(h)),set:c(h),enumerable:!0,configurable:!0}}},function(t,e,r){"use strict";t.exports=function(t,e,r,a){for(var i={},u=0,c=r.length;u<c;++u){var l=r[u],f=l.name,h=l.type,_=l.locations;switch(h){case"bool":case"int":case"float":o(t,e,_[0],a,1,i,f);break;default:if(h.indexOf("vec")>=0){var E=h.charCodeAt(h.length-1)-48;if(E<2||E>4)throw new n("","Invalid data type for attribute "+f+": "+h);o(t,e,_[0],a,E,i,f)}else{if(!(h.indexOf("mat")>=0))throw new n("","Unknown data type for attribute "+f+": "+h);var E=h.charCodeAt(h.length-1)-48;if(E<2||E>4)throw new n("","Invalid data type for attribute "+f+": "+h);s(t,e,_,a,E,i,f)}}}return i};var n=r(0);function a(t,e,r,n,a,i){this._gl=t,this._wrapper=e,this._index=r,this._locations=n,this._dimension=a,this._constFunc=i}var i=a.prototype;function o(t,e,r,n,i,o,s){for(var u=["gl","v"],c=[],l=0;l<i;++l)u.push("x"+l),c.push("x"+l);u.push("if(x0.length===void 0){return gl.vertexAttrib"+i+"f(v,"+c.join()+")}else{return gl.vertexAttrib"+i+"fv(v,x0)}");var f=Function.apply(null,u),h=new a(t,e,r,n,i,f);Object.defineProperty(o,s,{set:function(e){return t.disableVertexAttribArray(n[r]),f(t,n[r],e),e},get:function(){return h},enumerable:!0})}function s(t,e,r,n,a,i,s){for(var u=new Array(a),c=new Array(a),l=0;l<a;++l)o(t,e,r[l],n,a,u,l),c[l]=u[l];Object.defineProperty(u,"location",{set:function(t){if(Array.isArray(t))for(var e=0;e<a;++e)c[e].location=t[e];else for(e=0;e<a;++e)c[e].location=t+e;return t},get:function(){for(var t=new Array(a),e=0;e<a;++e)t[e]=n[r[e]];return t},enumerable:!0}),u.pointer=function(e,i,o,s){e=e||t.FLOAT,i=!!i,o=o||a*a,s=s||0;for(var u=0;u<a;++u){var c=n[r[u]];t.vertexAttribPointer(c,a,e,i,o,s+u*a),t.enableVertexAttribArray(c)}};var f=new Array(a),h=t["vertexAttrib"+a+"fv"];Object.defineProperty(i,s,{set:function(e){for(var i=0;i<a;++i){var o=n[r[i]];if(t.disableVertexAttribArray(o),Array.isArray(e[0]))h.call(t,o,e[i]);else{for(var s=0;s<a;++s)f[s]=e[a*i+s];h.call(t,o,f)}}return e},get:function(){return u},enumerable:!0})}i.pointer=function(t,e,r,n){var a=this._gl,i=this._locations[this._index];a.vertexAttribPointer(i,this._dimension,t||a.FLOAT,!!e,r||0,n||0),a.enableVertexAttribArray(i)},i.set=function(t,e,r,n){return this._constFunc(this._locations[this._index],t,e,r,n)},Object.defineProperty(i,"location",{get:function(){return this._locations[this._index]},set:function(t){return t!==this._locations[this._index]&&(this._locations[this._index]=0|t,this._wrapper.program=null),0|t}})},function(t,e,r){"use strict";e.shader=function(t,e,r){return l(t).getShaderReference(e,r)},e.program=function(t,e,r,n,a){return l(t).getProgram(e,r,n,a)};var n=r(0),a=r(91),i=new("undefined"==typeof WeakMap?r(105):WeakMap),o=0;function s(t,e,r,n,a,i,o){this.id=t,this.src=e,this.type=r,this.shader=n,this.count=i,this.programs=[],this.cache=o}function u(t){this.gl=t,this.shaders=[{},{}],this.programs={}}s.prototype.dispose=function(){if(0==--this.count){for(var t=this.cache,e=t.gl,r=this.programs,n=0,a=r.length;n<a;++n){var i=t.programs[r[n]];i&&(delete t.programs[n],e.deleteProgram(i))}e.deleteShader(this.shader),delete t.shaders[this.type===e.FRAGMENT_SHADER|0][this.src]}};var c=u.prototype;function l(t){var e=i.get(t);return e||(e=new u(t),i.set(t,e)),e}c.getShaderReference=function(t,e){var r=this.gl,i=this.shaders[t===r.FRAGMENT_SHADER|0],u=i[e];if(u&&r.isShader(u.shader))u.count+=1;else{var c=function(t,e,r){var i=t.createShader(e);if(t.shaderSource(i,r),t.compileShader(i),!t.getShaderParameter(i,t.COMPILE_STATUS)){var o=t.getShaderInfoLog(i);try{var s=a(o,r,e)}catch(t){throw console.warn("Failed to format compiler error: "+t),new n(o,"Error compiling shader:\n"+o)}throw new n(o,s.short,s.long)}return i}(r,t,e);u=i[e]=new s(o++,e,t,c,[],1,this)}return u},c.getProgram=function(t,e,r,a){var i=[t.id,e.id,r.join(":"),a.join(":")].join("@"),o=this.programs[i];return o&&this.gl.isProgram(o)||(this.programs[i]=o=function(t,e,r,a,i){var o=t.createProgram();t.attachShader(o,e),t.attachShader(o,r);for(var s=0;s<a.length;++s)t.bindAttribLocation(o,i[s],a[s]);if(t.linkProgram(o),!t.getProgramParameter(o,t.LINK_STATUS)){var u=t.getProgramInfoLog(o);throw new n(u,"Error linking program: "+u)}return o}(this.gl,t.shader,e.shader,r,a),t.programs.push(i),e.programs.push(i)),o}},function(t,e,r){var n=r(92).sprintf,a=r(93),i=r(95),o=r(102);t.exports=function(t,e,r){"use strict";var s=i(e)||"of unknown name (see npm glsl-shader-name)",u="unknown type";void 0!==r&&(u=r===a.FRAGMENT_SHADER?"fragment":"vertex");for(var c=n("Error compiling %s shader %s:\n",u,s),l=n("%s%s",c,t),f=t.split("\n"),h={},_=0;_<f.length;_++){var E=f[_];if(""!==E&&"\0"!==E){var p=parseInt(E.split(":")[2]);if(isNaN(p))throw new Error(n("Could not parse error: %s",E));h[p]=E}}for(var T=o(e).split("\n"),_=0;_<T.length;_++)if(h[_+3]||h[_+2]||h[_+1]){var g=T[_];if(c+=g+"\n",h[_+1]){var b=h[_+1];b=b.substr(b.split(":",3).join(":").length+1).trim(),c+=n("^^^ %s\n\n",b)}}return{long:c.trim(),short:l.trim()}}},function(t,e,r){var n;!function(){"use strict";var a={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function i(t){return function(t,e){var r,n,o,s,u,c,l,f,h,_=1,E=t.length,p="";for(n=0;n<E;n++)if("string"==typeof t[n])p+=t[n];else if("object"==typeof t[n]){if((s=t[n]).keys)for(r=e[_],o=0;o<s.keys.length;o++){if(null==r)throw new Error(i('[sprintf] Cannot access property "%s" of undefined value "%s"',s.keys[o],s.keys[o-1]));r=r[s.keys[o]]}else r=s.param_no?e[s.param_no]:e[_++];if(a.not_type.test(s.type)&&a.not_primitive.test(s.type)&&r instanceof Function&&(r=r()),a.numeric_arg.test(s.type)&&"number"!=typeof r&&isNaN(r))throw new TypeError(i("[sprintf] expecting number but found %T",r));switch(a.number.test(s.type)&&(f=r>=0),s.type){case"b":r=parseInt(r,10).toString(2);break;case"c":r=String.fromCharCode(parseInt(r,10));break;case"d":case"i":r=parseInt(r,10);break;case"j":r=JSON.stringify(r,null,s.width?parseInt(s.width):0);break;case"e":r=s.precision?parseFloat(r).toExponential(s.precision):parseFloat(r).toExponential();break;case"f":r=s.precision?parseFloat(r).toFixed(s.precision):parseFloat(r);break;case"g":r=s.precision?String(Number(r.toPrecision(s.precision))):parseFloat(r);break;case"o":r=(parseInt(r,10)>>>0).toString(8);break;case"s":r=String(r),r=s.precision?r.substring(0,s.precision):r;break;case"t":r=String(!!r),r=s.precision?r.substring(0,s.precision):r;break;case"T":r=Object.prototype.toString.call(r).slice(8,-1).toLowerCase(),r=s.precision?r.substring(0,s.precision):r;break;case"u":r=parseInt(r,10)>>>0;break;case"v":r=r.valueOf(),r=s.precision?r.substring(0,s.precision):r;break;case"x":r=(parseInt(r,10)>>>0).toString(16);break;case"X":r=(parseInt(r,10)>>>0).toString(16).toUpperCase()}a.json.test(s.type)?p+=r:(!a.number.test(s.type)||f&&!s.sign?h="":(h=f?"+":"-",r=r.toString().replace(a.sign,"")),c=s.pad_char?"0"===s.pad_char?"0":s.pad_char.charAt(1):" ",l=s.width-(h+r).length,u=s.width&&l>0?c.repeat(l):"",p+=s.align?h+r+u:"0"===c?h+u+r:u+h+r)}return p}(function(t){if(s[t])return s[t];var e,r=t,n=[],i=0;for(;r;){if(null!==(e=a.text.exec(r)))n.push(e[0]);else if(null!==(e=a.modulo.exec(r)))n.push("%");else{if(null===(e=a.placeholder.exec(r)))throw new SyntaxError("[sprintf] unexpected placeholder");if(e[2]){i|=1;var o=[],u=e[2],c=[];if(null===(c=a.key.exec(u)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(o.push(c[1]);""!==(u=u.substring(c[0].length));)if(null!==(c=a.key_access.exec(u)))o.push(c[1]);else{if(null===(c=a.index_access.exec(u)))throw new SyntaxError("[sprintf] failed to parse named argument key");o.push(c[1])}e[2]=o}else i|=2;if(3===i)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");n.push({placeholder:e[0],param_no:e[1],keys:e[2],sign:e[3],pad_char:e[4],align:e[5],width:e[6],precision:e[7],type:e[8]})}r=r.substring(e[0].length)}return s[t]=n}(t),arguments)}function o(t,e){return i.apply(null,[t].concat(e||[]))}var s=Object.create(null);e.sprintf=i,e.vsprintf=o,"undefined"!=typeof window&&(window.sprintf=i,window.vsprintf=o,void 0===(n=function(){return{sprintf:i,vsprintf:o}}.call(e,r,e,t))||(t.exports=n))}()},function(t,e,r){var n=r(94);t.exports=function(t){return n[t]}},function(t,e){t.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34000:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},function(t,e,r){var n=r(96),a=r(101);t.exports=function(t){for(var e=Array.isArray(t)?t:n(t),r=0;r<e.length;r++){var i=e[r];if("preprocessor"===i.type){var o=i.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(o&&o[2]){var s=o[1],u=o[2];return(s?a(u):u).trim()}}}}},function(t,e,r){var n=r(97);t.exports=function(t,e){var r=n(e),a=[];return a=(a=a.concat(r(t))).concat(r(null))}},function(t,e,r){t.exports=function(t){var e,r,m,S=0,x=0,M=u,I=[],N=[],L=1,y=0,C=0,P=!1,w=!1,U="",O=i,D=n;"300 es"===(t=t||{}).version&&(O=s,D=o);for(var F={},B={},S=0;S<O.length;S++)F[O[S]]=!0;for(var S=0;S<D.length;S++)B[D[S]]=!0;return function(t){return N=[],null!==t?function(t){S=0,t.toString&&(t=t.toString());var r;U+=t.replace(/\r\n/g,"\n"),m=U.length;for(;e=U[S],S<m;){switch(r=S,M){case l:S=j();break;case f:case h:S=k();break;case _:S=H();break;case E:S=W();break;case v:S=z();break;case p:S=Z();break;case c:S=K();break;case d:S=X();break;case u:S=V()}if(r!==S)switch(U[r]){case"\n":y=0,++L;break;default:++y}}return x+=S,U=U.slice(S),N}(t):function(t){I.length&&G(I.join(""));return M=A,G("(eof)"),N}()};function G(t){t.length&&N.push({type:R[M],data:t,position:C,line:L,column:y})}function V(){return I=I.length?[]:I,"/"===r&&"*"===e?(C=x+S-1,M=l,r=e,S+1):"/"===r&&"/"===e?(C=x+S-1,M=f,r=e,S+1):"#"===e?(M=h,C=x+S,S):/\s/.test(e)?(M=d,C=x+S,S):(P=/\d/.test(e),w=/[^\w_]/.test(e),C=x+S,M=P?E:w?_:c,S)}function X(){return/[^\s]/g.test(e)?(G(I.join("")),M=u,S):(I.push(e),r=e,S+1)}function k(){return"\r"!==e&&"\n"!==e||"\\"===r?(I.push(e),r=e,S+1):(G(I.join("")),M=u,S)}function j(){return"/"===e&&"*"===r?(I.push(e),G(I.join("")),M=u,S+1):(I.push(e),r=e,S+1)}function H(){if("."===r&&/\d/.test(e))return M=p,S;if("/"===r&&"*"===e)return M=l,S;if("/"===r&&"/"===e)return M=f,S;if("."===e&&I.length){for(;Y(I););return M=p,S}if(";"===e||")"===e||"("===e){if(I.length)for(;Y(I););return G(e),M=u,S+1}var t=2===I.length&&"="!==e;if(/[\w_\d\s]/.test(e)||t){for(;Y(I););return M=u,S}return I.push(e),r=e,S+1}function Y(t){for(var e,r,n=0;;){if(e=a.indexOf(t.slice(0,t.length+n).join("")),r=a[e],-1===e){if(n--+t.length>0)continue;r=t.slice(0,1).join("")}return G(r),C+=r.length,(I=I.slice(r.length)).length}}function z(){return/[^a-fA-F0-9]/.test(e)?(G(I.join("")),M=u,S):(I.push(e),r=e,S+1)}function W(){return"."===e?(I.push(e),M=p,r=e,S+1):/[eE]/.test(e)?(I.push(e),M=p,r=e,S+1):"x"===e&&1===I.length&&"0"===I[0]?(M=v,I.push(e),r=e,S+1):/[^\d]/.test(e)?(G(I.join("")),M=u,S):(I.push(e),r=e,S+1)}function Z(){return"f"===e&&(I.push(e),r=e,S+=1),/[eE]/.test(e)?(I.push(e),r=e,S+1):("-"!==e&&"+"!==e||!/[eE]/.test(r))&&/[^\d]/.test(e)?(G(I.join("")),M=u,S):(I.push(e),r=e,S+1)}function K(){if(/[^\d\w_]/.test(e)){var t=I.join("");return M=B[t]?b:F[t]?g:T,G(I.join("")),M=u,S}return I.push(e),r=e,S+1}};var n=r(20),a=r(98),i=r(21),o=r(99),s=r(100),u=999,c=9999,l=0,f=1,h=2,_=3,E=4,p=5,T=6,g=7,b=8,d=9,A=10,v=11,R=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"]},function(t,e){t.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},function(t,e,r){var n=r(20);t.exports=n.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},function(t,e,r){var n=r(21);n=n.slice().filter(function(t){return!/^(gl\_|texture)/.test(t)}),t.exports=n.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},function(t,e){t.exports=function(t){return atob(t)}},function(t,e,r){var n=r(103);t.exports=function(t,e,r){e="number"==typeof e?e:1,r=r||": ";var a=t.split(/\r?\n/),i=String(a.length+e-1).length;return a.map(function(t,a){var o=a+e,s=String(o).length,u=n(o,i-s);return u+r+t}).join("\n")}},function(t,e,r){"use strict";
/*!
 * pad-left <https://github.com/jonschlinkert/pad-left>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT license.
 */var n=r(104);t.exports=function(t,e,r){return n(r=void 0!==r?r+"":" ",e)+t}},function(t,e,r){"use strict";
/*!
 * repeat-string <https://github.com/jonschlinkert/repeat-string>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var n,a="";t.exports=function(t,e){if("string"!=typeof t)throw new TypeError("expected a string");if(1===e)return t;if(2===e)return t+t;var r=t.length*e;if(n!==t||void 0===n)n=t,a="";else if(a.length>=r)return a.substr(0,r);for(;r>a.length&&e>1;)1&e&&(a+=t),e>>=1,t+=t;return a=(a+=t).substr(0,r)}},function(t,e,r){var n=r(106);t.exports=function(){var t=n();return{get:function(e,r){var n=t(e);return n.hasOwnProperty("value")?n.value:r},set:function(e,r){return t(e).value=r,this},has:function(e){return"value"in t(e)},delete:function(e){return delete t(e).value}}}},function(t,e,r){var n=r(107);t.exports=function(){var t={};return function(e){if(("object"!=typeof e||null===e)&&"function"!=typeof e)throw new Error("Weakmap-shim: Key must be object");var r=e.valueOf(t);return r&&r.identity===t?r:n(e,t)}}},function(t,e){t.exports=function(t,e){var r={identity:e},n=t.valueOf;return Object.defineProperty(t,"valueOf",{value:function(t){return t!==e?n.apply(this,arguments):r},writable:!0}),r}},function(t,e,r){"use strict";e.uniforms=function(t,e){for(var r=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),n=[],a=0;a<r;++a){var o=t.getActiveUniform(e,a);if(o){var s=i(t,o.type);if(o.size>1)for(var u=0;u<o.size;++u)n.push({name:o.name.replace("[0]","["+u+"]"),type:s});else n.push({name:o.name,type:s})}}return n},e.attributes=function(t,e){for(var r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),n=[],a=0;a<r;++a){var o=t.getActiveAttrib(e,a);o&&n.push({name:o.name,type:i(t,o.type)})}return n};var n={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},a=null;function i(t,e){if(!a){var r=Object.keys(n);a={};for(var i=0;i<r.length;++i){var o=r[i];a[t[o]]=n[o]}}return a[e]}}])});